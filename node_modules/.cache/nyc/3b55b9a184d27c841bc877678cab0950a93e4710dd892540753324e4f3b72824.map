{"version":3,"sources":["testTransaction.js"],"names":["chai","use","chaiHttp","should","describe","it","done","trans","amount","chaierId","request","app","post","send","end","req","res","have","status","body","be","a","property","an","account","eql"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEAA,eAAKC,GAAL,CAASC,kBAAT;AACAF,eAAKG,MAAL;;AAEAC,SAAS,aAAT,EAAwB,YAAM;AAC1BA,aAAS,QAAT,EAAmB,YAAM;AACrBC,WAAG,cAAH,EAAmB,UAACC,IAAD,EAAU;AACzB,gBAAMC,QAAQ;AACVC,wBAAQ,IADE;AAEVC,0BAAU;AAFA,aAAd;AAIAT,2BAAKU,OAAL,CAAaC,aAAb,EACKC,IADL,CACU,sBADV,EAEKC,IAFL,CAEUN,KAFV,EAGKO,GAHL,CAGS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,oBAAIb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,oBAAIG,IAAJ,CAAShB,MAAT,CAAgBiB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,oBAAIG,IAAJ,CAAShB,MAAT,CAAgBc,IAAhB,CAAqBK,QAArB,CAA8B,MAA9B,EAAsCnB,MAAtC,CAA6CiB,EAA7C,CAAgDG,EAAhD,CAAmD,QAAnD;AACAjB;AACH,aARL;AASH,SAdD;;AAgBAD,WAAG,kCAAH,EAAuC,UAACC,IAAD,EAAU;AAC7C,gBAAMC,QAAQ;AACVC,wBAAQ,EADE;AAEVC,0BAAU;AAFA,aAAd;AAIAT,2BAAKU,OAAL,CAAaC,aAAb,EACKC,IADL,CACU,sBADV,EAEKC,IAFL,CAEUN,KAFV,EAGKO,GAHL,CAGS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,oBAAIb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,oBAAIG,IAAJ,CAAShB,MAAT,CAAgBiB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAf;AACH,aAPL;AAQH,SAbD;AAcAD,WAAG,8CAAH,EAAmD,UAACC,IAAD,EAAU;AACzD,gBAAMC,QAAQ;AACVC,wBAAQ,OADE;AAEVC,0BAAU;AAFA,aAAd;AAIA,gBAAMe,UAAU,MAAhB;AACAxB,2BAAKU,OAAL,CAAaC,aAAb,EACKC,IADL,cACqBY,OADrB,aAEKX,IAFL,CAEUN,KAFV,EAGKO,GAHL,CAGS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,oBAAIb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,oBAAIG,IAAJ,CAAShB,MAAT,CAAgBiB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,oBAAIG,IAAJ,CAAShB,MAAT,CAAgBc,IAAhB,CAAqBK,QAArB,CAA8B,OAA9B,EAAuCG,GAAvC,CAA2C,iCAA3C;AACAnB;AACH,aARL;AASH,SAfD;AAgBH,KA/CD;AAgDH,CAjDD","file":"testTransaction.js","sourceRoot":"/home/kagabo/banka1/Banka/server/tests","sourcesContent":["import chai from \"chai\";\nimport chaiHttp from \"chai-http\";\nimport app from \"../app\";\n\nchai.use(chaiHttp);\nchai.should();\n\ndescribe(\"Transaction\", () => {\n    describe(\"POST /\", () => {\n        it(\"should debit\", (done) => {\n            const trans = {\n                amount: 4000,\n                chaierId: 2,\n            };\n            chai.request(app)\n                .post('/api/v1/123456/debit')\n                .send(trans)\n                .end((req, res) => {\n                    res.should.have.status(201);\n                    res.body.should.be.a('object');\n                    res.body.should.have.property(\"data\").should.be.an('object');\n                    done();\n                });\n        });\n\n        it(\"should not debit while no amount\", (done) => {\n            const trans = {\n                amount: \"\",\n                chaierId: 2,\n            };\n            chai.request(app)\n                .post('/api/v1/123456/debit')\n                .send(trans)\n                .end((req, res) => {\n                    res.should.have.status(400);\n                    res.body.should.be.a('object');\n                    done();\n                });\n        });\n        it(\"should not debit while there is less balance\", (done) => {\n            const trans = {\n                amount: 4000000,\n                chaierId: \"\",\n            };\n            const account = 123456;\n            chai.request(app)\n                .post(`/api/v1/${account}/debit`)\n                .send(trans)\n                .end((req, res) => {\n                    res.should.have.status(400);\n                    res.body.should.be.a('object');\n                    res.body.should.have.property(\"error\").eql(\"balance is less than the amount\");\n                    done();\n                });\n        });\n    });\n})"]}