{"version":3,"sources":["check-user.js"],"names":["mid","req","res","next","token","headers","authorization","split","decoded","jwt","verify","userData","error","status","json"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,MAAM,SAANA,GAAM,CAACC,GAAD,EAAKC,GAAL,EAAUC,IAAV,EAAmB;;AAE3B,QAAI;AACA,YAAMC,QAAQH,IAAII,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAd;AACA,YAAMC,UAAUC,uBAAIC,MAAJ,CAAWN,KAAX,EAAkB,QAAlB,CAAhB;AACAH,YAAIU,QAAJ,GAAeH,OAAf;AACAL;AACH,KALD,CAKE,OAAMS,KAAN,EAAa;AACX,eAAOV,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBD,oBAAQ,GADgB;AAExBD,mBAAO;AAFiB,SAArB,CAAP;AAIH;AACJ,CAbD;;kBAeeZ,G","file":"check-user.js","sourceRoot":"/home/kagabo/banka1/Banka/server/middleware","sourcesContent":["import jwt from \"jsonwebtoken\";\n\nconst mid = (req,res, next) => {\n    \n    try {\n        const token = req.headers.authorization.split(\" \")[1];\n        const decoded = jwt.verify(token, 'secret');\n        req.userData = decoded;\n        next();\n    } catch(error) {\n        return res.status(401).json({\n            status: 401,\n            error: \"user failed\"\n        });\n    } \n};\n\nexport default mid;"]}