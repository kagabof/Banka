{"version":3,"sources":["testAccount.js"],"names":["chai","use","chaiHttp","should","describe","it","done","user","owner","type","request","app","post","send","end","req","res","have","status","body","be","a","property","an","eql","accountNumber","patch","delete","get"],"mappings":"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","file":"testAccount.js","sourceRoot":"/home/kagabo/banka1/Banka/server/tests","sourcesContent":["import chai from \"chai\";\nimport chaiHttp from \"chai-http\";\nimport app from \"../app\";\n\nchai.use(chaiHttp);\nchai.should();\n\n\ndescribe(\"Account\", () => {\n    describe(\"POST /\", () => {\n        it(\"create an account\", (done) => {\n            const user = {\n                owner: 1,\n                type: \"saving\",\n            }\n            chai.request(app)\n                .post('/api/v1/accounts')\n                .send(user)\n                .end((req, res) => {\n                    res.should.have.status(201);\n                    res.body.should.be.a('object');\n                    res.body.should.have.property(\"data\").should.be.an('object');\n                    done();\n                });\n        });\n        it(\"it should not create the account with out with no user\", (done) => {\n            const user = {\n                owner: \"\",\n                type: \"saving\",\n            }\n\n            chai.request(app)\n                .post('/api/v1/accounts')\n                .send(user)\n                .end((req, res) => {\n                    res.should.have.status(400);\n                    res.body.should.have.property('error').eql('owner not found!');\n                    done();\n                }\n                );\n        });\n        it(\"it should not create the account\", (done) => {\n            const user = {\n                owner: 1,\n                type: \"\",\n            }\n\n            chai.request(app)\n                .post('/api/v1/accounts')\n                .send(user)\n                .end((req, res) =>{\n                    res.should.have.status(400);\n                    res.body.should.have.property('error').eql('type is required!');\n                    done();\n                }\n            );\n        });\n    });\n    describe('PATCH /', ()=>{\n        it('activate the account', (done)=>{\n            const accountNumber = 123456;\n\n            chai.request(app)\n                .patch(`/api/v1/account/${accountNumber}`)\n                .end((req,res) => {\n                    res.should.have.status(201);\n                    res.body.should.be.a('object');\n                    res.body.should.have.property('status').eql(201);\n                    res.body.should.have.property('data').should.be.a('object');\n                    done();\n                }\n            );\n        });\n        it('Admin must deactivate the account', (done) => {\n            const accountNumber = 123456;\n            chai.request(app)\n                .patch(`/api/v1/account/${accountNumber}`)\n                .end((req, res) => {\n                    res.should.have.status(201);\n                    res.body.should.be.a('object');\n                    res.body.should.have.property('status').eql(201);\n                    res.body.should.have.property('data').should.be.a('object');\n                    done();\n                }\n                );\n        });\n        it('should note activate while account not found', (done) => {\n            const accountNumber = 12345;\n            chai.request(app)\n                .patch(`/api/v1/account/${accountNumber}`)\n                .end((req, res) => {\n                    res.should.have.status(400);\n                    res.body.should.be.a('object');\n                    res.body.should.have.property('status').eql(400);\n                    res.body.should.have.property('error').eql('account not found');\n                    done();\n                });\n        });\n\n    });\n    describe('DELETE /', ()=>{\n        it(\"should delete the account while accountNumber exist\", (done)=>{\n            const accountNumber = 123456;\n            chai.request(app)\n                .delete(`/api/v1/accounts/${accountNumber}`)\n                .end((req,res) => {\n                    res.should.have.a.status(202);\n                    res.body.should.have.property('status').eql(202);\n                    res.body.should.have.property('message').eql('Account successfully deleted');\n                    done();\n                });\n        });\n        it(\"should not delete the account while accountNumber doesn't exist\", (done) => {\n            const accountNumber = 1234;\n            chai.request(app)\n                .delete(`/api/v1/accountDelete/${accountNumber}`)\n                .end((req, res) => {\n                    res.should.have.a.status(400);\n                    res.body.should.have.property('status').eql(400);\n                    res.body.should.have.property('error').eql(\"account not found\");\n                    done();\n                });\n        });\n    });\n    describe(\"GET /\", () =>{\n        it(\"should an account\", (done) =>{\n            chai.request(app)\n                .get('/api/v1/account')\n                .end((req,res) => {\n                    res.should.have.a.status(200);\n\n                    done();\n                });\n        });\n        // it(\"should get an account\", (done) => {\n        //     const accountNumber = 123456;\n        //     chai.request(app)\n        //         .get(`/api/v1/account/${accountNumber}`)\n        //         .end((req, res) => {\n        //             res.should.have.a.status(200);\n        //             done();\n        //         });\n        // });\n    });\n\n});"]}